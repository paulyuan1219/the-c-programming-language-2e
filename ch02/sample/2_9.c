/*
这是一个C语言函数，名为`getbits`。它的功能是获取一个无符号整数`x`的某几位的值。具体来说，它返回`x`中从位置`p`开始（从右向左数，最右边为位置0）的`n`位的值。

函数的实现利用了位操作符。下面是每一步的解释：

1. `(x >> (p + 1 - n))`：这一步将`x`右移`(p + 1 - n)`位。这样，我们想要的`n`位就被移到了最右边。

2. `~(~0 << n)`：这一步生成了一个掩码，它的右边`n`位是1，左边的位是0。`~0`在二进制中表示所有位都是1。然后我们将其左移`n`位，这样右边的`n`位就变成了0。最后，我们对其取反，这样右边的`n`位就变成了1，左边的位是0。

3. `&`：这一步将上面两步的结果进行位与操作。由于掩码的左边是0，右边是1，所以位与操作的结果就是保留了`x`右边的`n`位，左边的位都变成了0。

所以，这个函数的总体效果就是返回`x`中从位置`p`开始的`n`位的值。
*/


unsigned getbits(unsigned x, int p, int n) {
    return (x >> (p + 1 - n)) & ~(~0 << n);
}